# 3-way handshake

## π λ¨Όμ € TCP ν†µμ‹ μ λ‹¨κ³„λ¥Ό μ•μ•„λ³΄μ
- TCP ν†µμ‹ μ€ μ•„λμ™€ κ°™μ€ 3λ‹¨κ³„μ κ³Όμ •μ„ κ±°μΉλ‹¤.
    - Connection Setup (TCP μ—°κ²° μ΄κΈ°ν™”) - 3 way handshaking
    - Data transfer (λ°μ΄ν„° μ „μ†΅)
    - Connection termination (TCP μ—°κ²° μΆ…λ£) - 4 way handshaking

## π 3-way handshakeλ€?
- TCP/IP ν”„λ΅ν† μ½λ΅ ν†µμ‹ ν•κΈ°μ „ μ •ν™•ν• μ •λ³΄ μ „μ†΅μ„ μ„ν•΄ λ‘ λ‹¨λ§(Endpoint)μ‚¬μ΄ μ„Έμ…μ„ μλ¦½ν•λ” κ³Όμ •
- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ ‘μ†μ„ μ”μ²­ν•λ” SYN(μ‹±ν¬λ΅λ‚μ΄μ¦) ν¨ν‚·μ„ λ³΄λ‚΄λ©΄, μ„λ²„λ” ACK(acknowledge)λ¥Ό ν¬ν•¨ν•μ—¬ SYN+ACK ν¨ν‚·μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°μ†΅ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ μ΄κ²ƒμ„ μμ‹ ν• ν›„, λ‹¤μ‹ ACKλ¥Ό μ„λ²„μ—κ² λ°μ†΅ν•λ©΄ μ—°κ²°μ΄ μ΄λ¤„μ§€κ³  λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„μ μκ²λλ‹¤.
- μμ„
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² SYN ν¨ν‚· μ „μ†΅ (μ„λ²„μ•Ό, λ‚ ν—λ½ν•΄μ¤)
    - μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² ACK + SYN ν¨ν‚· μ „μ†΅ (OK!, ν΄λΌμ΄μ–ΈνΈμ•Ό λ„λ„ λ‚ ν—λ½ν•΄μ¤)
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² ACK ν¨ν‚· μ „μ†΅ (OK! ν—λ½ν–μ–΄! λ°μ΄ν„° λ³΄λ‚΄!)

## π 4-way handshakeλ€?
- 3-way handshakeλ” TCP ν”„λ΅ν† μ½μ΄ ν†µμ‹ ν•κΈ° μ „ μ„Έμ…μ„ μλ¦½ν•λ” κ³Όμ •μ΄μ€λ‹¤λ©΄,
- 4-way handshakeλ” TCP ν”„λ΅ν† μ½λ΅ μλ¦½ν–λ μ„Έμ…μ„ μΆ…λ£ν•λ” κ³Όμ •μ΄λ‹¤. μ¦‰, Connection terminationμ΄λ‹¤.
- TCP Connection terminationμ€ μ–‘λ°©ν–¥μΌλ΅ 2κ°μ μ—°κ²°μ΄ λ…λ¦½μ μΌλ΅ λ‹«νκΈ° λ•λ¬Έμ— 4-way λ‹¨κ³„λ¥Ό λ°λ”λ‹¤.
- μμ„
    - ν΄λΌμ΄μ–ΈνΈμ ν”„λ΅μ„Έμ¤κ°€ FIN ν¨ν‚·μ„ μ„λ²„μ ν”„λ΅μ„Έμ¤λ΅ λ³΄λƒ„ (λ°μ΄ν„° λ‹¤ λ°›μ•μ–΄! ν΄λΌμ΄μ–ΈνΈμ½ μ„Έμ… λ¬Έ λ‹«μ„κ²!)
    - μ„λ²„κ°€ ACK ν¨ν‚·μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ³΄λƒ„ (λλ‚¬κµ¬λ‚! μ•κ² μ–΄!) (μ΄λ•, ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ FIN ν¨ν‚·μ„ κΈ°λ‹¤λ¦¬κ³  μλ‹¤.)
    - μ„λ²„κ°€ FIN ν¨ν‚·μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ³΄λƒ„ (λ‚λ„ λλ‚¬μ–΄! μ„λ²„μ½ μ… λ¬Έ λ‹«μ„κ²!)
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² ACK ν¨ν‚·μ„ λ³΄λƒ„ (μ•κ² μ–΄! κ³ μƒν–μ–΄!)
